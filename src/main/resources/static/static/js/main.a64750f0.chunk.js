(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{297:function(e,t,n){},459:function(e,t,n){},465:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(25),s=n.n(r),c=n(45),i=n.n(c),u=n(60),l=n(99),o=n(129),d=n.n(o),m=function(e){throw e.response&&e.response.data?e.response.data:e.request?e.request.message||e.request.statusText:e.message},j=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("api/students");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),m(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("api/students",t);case 3:console.log("student added success."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),b=n(204),h=n.n(b),p=n(96),g=n.n(p),x=n(128),O=n.n(x),v=n(87),N=n.n(v),y=n(203),k=n.n(y),S=n(206),C=n(18),E=function(e){return Object(C.jsx)(S.a,{fluid:"md",className:"container",children:e.children})},w=n(207),A=n(205),F=n(76),I=n.n(F),B=n(50),L=n.n(B),q=n(77),M=n.n(q),R=n(127),G=n.n(R),J=function(e,t,n){G.a[e]({message:t,description:n})},z=function(e,t){return J("error",e,t)},T={marginBottom:"10px"},Z=Object(w.a)({color:"red"},T),P=function(e){var t=function(){var t=Object(u.a)(i.a.mark((function t(n,a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.setSubmitting,t.prev=1,t.next=4,f(n);case 4:e.onSuccess(),r(!1),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e.onFailure(t.t0),r(!1);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}();return Object(C.jsx)(A.a,{initialValues:{firstName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.firstName||(t.firstName="First Name Required"),e.lastName||(t.lastName="Last Name Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email Required",e.gender?["MALE","male","FEMALE","female"].includes(e.gender)||(t.gender="Gender must be (MALE, male, FEMALE, female)"):t.gender="Gender Required",t},onSubmit:t,children:function(e){var t=e.values,n=e.errors,a=e.touched,r=e.handleChange,s=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting,u=e.submitForm,l=e.isValid;return Object(C.jsxs)("form",{onSubmit:c,children:[Object(C.jsx)(I.a,{style:T,name:"firstName",onChange:r,onBlur:s,value:t.firstName,placeholder:"First name. E.g John"}),n.firstName&&a.firstName&&Object(C.jsx)(M.a,{style:Z,children:n.firstName}),Object(C.jsx)(I.a,{style:T,name:"lastName",onChange:r,onBlur:s,value:t.lastName,placeholder:"Last name. E.g Jones"}),n.lastName&&a.lastName&&Object(C.jsx)(M.a,{style:Z,children:n.lastName}),Object(C.jsx)(I.a,{style:T,name:"email",type:"email",onChange:r,onBlur:s,value:t.email,placeholder:"Email. E.g example@gmail.com"}),n.email&&a.email&&Object(C.jsx)(M.a,{style:Z,children:n.email}),Object(C.jsx)(I.a,{style:T,name:"gender",onChange:r,onBlur:s,value:t.gender,placeholder:"Gender. E.g Male or Female"}),n.gender&&a.gender&&Object(C.jsx)(M.a,{style:Z,children:n.gender}),Object(C.jsx)(L.a,{onClick:function(){return u()},type:"submit",disabled:i|(a&&!l),children:"Submit"})]})}})},U=function(e){var t=e.numberOfStudents,n=e.handleAddStudentClickEvent;return Object(C.jsx)("div",{className:"footer",children:Object(C.jsxs)(E,{children:[void 0!==t?Object(C.jsx)(g.a,{style:{backgroundColor:"#abdbe0",marginRight:"8px"},size:"large",children:t}):null,Object(C.jsx)(L.a,{onClick:function(){return n()},type:"default",children:"Add new student +"})]})})},V=(n(297),function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),c=Object(l.a)(s,2),o=c[0],d=c[1],m=Object(a.useState)(!1),f=Object(l.a)(m,2),b=f[0],p=f[1],x=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,j();case 4:t=e.sent,r(t),d(!1),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n=e.t0.message,a=e.t0.httpStatus,z(n,a),d(!1);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);var v=function(){return p(!0)},y=function(){return p(!1)},S=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(k.a,{title:"Add new student",visible:b,onOk:y,onCancel:y,width:1e3,children:Object(C.jsx)(P,{onSuccess:function(){y(),x()},onFailure:function(e){var t=e.message,n=e.httpStatus?e.httpStatus:e.error;z(t,n)}})}),Object(C.jsx)(U,{numberOfStudents:n?n.length:0,handleAddStudentClickEvent:v})]})};if(o)return Object(C.jsx)(E,{children:Object(C.jsx)(O.a,{size:"large"})});if(n&&n.length){var w=[{title:"",key:"avatar",render:function(e,t){return Object(C.jsx)(g.a,{size:"large",style:{backgroundColor:"#abdbe0"},children:"".concat(t.firstName.charAt(0).toUpperCase()).concat(t.lastName.charAt(0).toUpperCase())})}},{title:"Student Id",dataIndex:"studentId",key:"studentId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"}];return Object(C.jsxs)(E,{children:[Object(C.jsx)(h.a,{style:{marginBottom:"100px"},dataSource:n,columns:w,rowKey:"studentId",pagination:!1}),Object(C.jsx)("br",{}),S()]})}return Object(C.jsxs)(E,{children:[Object(C.jsx)(N.a,{description:Object(C.jsx)("h1",{children:"No Students found"})}),S()]})}),D=(n(459),n(460),n(461),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,472)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))});s.a.render(Object(C.jsx)(V,{}),document.getElementById("root")),D()}},[[465,1,2]]]);
//# sourceMappingURL=main.a64750f0.chunk.js.map